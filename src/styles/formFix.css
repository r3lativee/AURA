/**
 * Form input focus fix
 * This CSS fixes issues with input field focus and GSAP animations
 */

/* Ensure all form inputs have proper z-index and aren't affected by animations */
input,
textarea,
select,
.MuiInputBase-root,
.MuiOutlinedInput-root,
.MuiTextField-root {
  position: relative !important;
  z-index: 10 !important;
  transform: none !important;
  transition: background-color 0.3s, border-color 0.3s !important;
  animation: none !important;
  will-change: auto !important;
}

/* Ensure inputs within MUI components are properly visible */
.MuiInputBase-input,
.MuiOutlinedInput-input {
  position: relative !important;
  z-index: 10 !important;
  transform: none !important;
  animation: none !important;
  will-change: auto !important;
  pointer-events: auto !important;
}

/* Fix focus styles for MUI */
.MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline {
  border-color: #FFFFFF !important;
  border-width: 2px !important;
}

/* Ensure form container elements don't get transformed by GSAP */
form,
.form-container,
.MuiFormControl-root,
.MuiTextField-root {
  transform: none !important;
  backface-visibility: visible !important;
  perspective: none !important;
  will-change: auto !important;
  animation: none !important;
}

/* Prevent any GSAP animations from affecting form element parents */
.MuiGrid-root,
.MuiContainer-root,
.MuiPaper-root,
.MuiBox-root {
  transform: none !important;
}

/* Set a higher z-index for components when they have focus */
.Mui-focused {
  z-index: 20 !important;
}

/* Disable strict-mode double render effects on inputs */
.MuiInputBase-root,
input,
textarea,
select {
  transition-duration: 0s !important;
}

/* Prevent parent elements from stealing focus */
form *, 
.MuiPaper-root *,
.MuiDialog-root * {
  pointer-events: auto !important;
}

/* Disable pointer events on irrelevant elements */
.gsap-marker-start, 
.gsap-marker-end,
.gsap-marker-scroller-start,
.gsap-marker-scroller-end {
  pointer-events: none !important;
}

/* Preserve the notched outline during animations */
.MuiOutlinedInput-notchedOutline {
  transition: border-color 0.2s !important;
  transform: none !important;
}

/* Ensure form containers don't interfere with input events */
form {
  isolation: isolate;
  contain: content;
}

/* Fix for React re-renders on controlled inputs */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
input[type="tel"],
textarea {
  -webkit-font-smoothing: antialiased !important;
  backface-visibility: hidden !important;
}

/* Add these fixes for React StrictMode input issues */

/* Disable React's double-rendering effect on inputs */
body:has(input:focus),
body:has(textarea:focus),
body:has(select:focus),
body:has(.MuiInputBase-input:focus) {
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
}

/* Improve focus management */
.MuiInputBase-root:focus-within {
  z-index: 30 !important;
}

/* Add these at the end of the file */
/* Force reduce motion for form elements */
@media (prefers-reduced-motion: reduce) {
  input, textarea, select, button, .MuiInputBase-root {
    transition: none !important;
    animation: none !important;
  }
}

/* Emergency fix for Edge/Chrome */
@supports (-ms-ime-align:auto) {
  input, select, textarea {
    animation: none !important;
    transform: none !important;
  }
}

/* Fix for Safari */
@supports (not (backdrop-filter: none)) and (not (-ms-ime-align:auto)) {
  input, select, textarea {
    transform: translateZ(0);
  }
} 